## 闭包

### 闭包的概念
js高级程序设计：能够访问另一个函数作用域变量的函数称这个函数为闭包
MDN的定义：能够访问自由变量的函数就是闭包 。自由变量（不是自己作用域中的变量）

1. 从理论的角度来讲，所有函数都是闭包。因为任何一个函数都能够访问全局对象中的变量

2. 从实践角度来说：闭包要函数一下两点：
  1. 包含函数的执行上下文（执行环境）的作用域链已经销毁
  2. 访问了自由变量


### 闭包的问题
Q： 为什么当包含函数的执行上下文的作用域链销毁，内部函数还是能够访问其作用域中的变量
A： 这是因为内部函数的作用域链仍然在引用包含函数的活动对象，其活动对象不会被销毁，需要
    等到内部函数执行完毕之后，内部函数的作用域链不在引入包含函数的活动对象的时候才会被销毁。

### 闭包需要记住的几句话
1. 作用域链的本质只是一个指向变量对象的指针列表而已，他只引用并不包含变量对象。所以就算作用域
   链被销毁，其变量对象仍然是存在的。

2. 闭包只能够取得包含函数中任何变量的最后一个值。

3. 内部函数会将包含函数的活动对象添加到他自己的作用域链中



### 闭包带来的问题
1. 闭包会携带包含函数的活动对象，因此会比其他函数 占用更多的内存。
2. 闭包在ie9之前会造成一些特殊的问题
    - 如果闭包的作用域中保存的是dom元素，并且在事件处理函数中还引用了这个dom元素，那么这个元素将会无法进行销毁。